@model ProfileEditVm

@section ProfileEditCss {
    <link rel="stylesheet" href="~/css/profile-edit.css" />
}


<div class="container">
    <div class="edit-profile-container">
        @if ((bool)ViewData["hasError"])
        {
            <div asp-validation-summary="All" class="alert alert-danger"></div>
        }
        <div class="edit-profile-form">
            <div class="panel-heading">
                <h4 class="panel-title">User info</h4>
            </div>
            <form method="post" enctype="multipart/form-data">
                <div class="panel panel-default">
                    <div class="panel-body d-flex justify-content-center">
                        <div id="profile-image-cont" style="background-image: url('@(Url.Content($"~/{Model.ProfileDetails.ProfilePhotoUrl}"))');">
                            <input asp-for="@Model.ProfileDetails.ProfilePhoto" accept=".png, .jpg, .jpeg, .svg" type="file" id="profile-image-inp" />
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <input asp-for="@Model.ProfileDetails.Id" type="text" class="form-control" hidden value="@Model.ProfileDetails.Id">
                        <input asp-for="@Model.ProfileDetails.ProfilePhotoUrl" type="text" class="form-control" hidden>
                    </div>
                </div>

                <div class="form-group">
                    <label asp-for="@Model.ProfileDetails.NickName" for="surname">Nickname:</label>
                    <input asp-for="@Model.ProfileDetails.NickName" type="text" class="form-control" id="surname" placeholder="@Model.ProfileDetails.NickName">
                </div>

                <div class="form-group">
                    <label asp-for="@Model.ProfileDetails.FirstName" for="name">First Name:</label>
                    <input asp-for="@Model.ProfileDetails.FirstName" type="text" class="form-control" id="name" placeholder="@Model.ProfileDetails.FirstName">
                </div>

                <div class="form-group">
                    <label asp-for="@Model.ProfileDetails.LastName" for="surname">Last Name:</label>
                    <input asp-for="@Model.ProfileDetails.LastName" type="text" class="form-control" id="surname" placeholder="@Model.ProfileDetails.LastName">
                </div>

                <div class="form-group">
                    <label asp-for="@Model.ProfileDetails.BirthDate" for="birthdate">Date of birth:</label>
                    <input asp-for="@Model.ProfileDetails.BirthDate" type="date" class="form-control" id="birthdate" placeholder="@Model.ProfileDetails.BirthDate">
                </div>

                <div class="form-group">
                    <label asp-for="@Model.ProfileDetails.Email" for="country">Email:</label>
                    <input asp-for="@Model.ProfileDetails.Email" type="email" class="form-control" id="email" placeholder="@Model.ProfileDetails.Email">
                </div>

                

                <div class="edit-profile-actions">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a asp-action="Index" asp-controller="Profile" class="btn btn-secondary">Cancel</a>
                </div>
            </form>


            <form method="post" asp-action="ChangePassword" asp-controller="Profile">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">Security</h4>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <div class="col-sm-10">
                                <input asp-for="@Model.ChangeDetails.Id" type="text" class="form-control" hidden value="@Model.ProfileDetails.Id">
                            </div>
                        </div>
                        <div class="form-group">
                            <label asp-for="@Model.ChangeDetails.CurrentPassword" for="country">Current password:</label>
                            <input asp-for="@Model.ChangeDetails.CurrentPassword" type="password" class="form-control" id="password">
                        </div>

                        <div class="form-group">
                            <label asp-for="@Model.ChangeDetails.NewPassword" for="country">New password:</label>
                            <input asp-for="@Model.ChangeDetails.NewPassword" type="password" class="form-control" id="password">
                        </div>
                        <div class="edit-profile-actions">
                            <button type="submit" class="btn btn-primary">Save</button>
                            <a asp-action="Index" asp-controller="Profile" class="btn btn-secondary">Cancel</a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

@section ProfileEditJs {
    <script src="~/js/profile-edit.js"></script>
}